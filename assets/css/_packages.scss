@layer components {
  /* Packages Page Layout */

  .packages-page__content {
    @apply w-full;
    /* Child elements use .container utility class */
  }

  .packages-page__controls {
    @apply w-full py-8 mb-8;
    background-color: var(--color-gray-50);
    /* Child div uses .container utility class */
  }

  .packages-page__section {
    @apply mb-16;
    /* Child div uses .container utility class */
  }

  .packages-page__empty {
    @apply py-12 text-center;
    /* Uses .container utility class in template */
  }

  /* Package Filters */
  .packages-filters {
    @apply mb-8;

    input {
      @apply w-full max-w-md px-4 py-2 text-lg border rounded-lg mb-4;
      border-color: var(--color-gray-300);

      &:focus {
        @apply outline-none ring-2;
        ring-color: var(--color-primary);
        border-color: var(--color-primary);
      }
    }

    > div {
      @apply flex flex-wrap gap-2;

      button {
        @apply px-4 py-2 rounded-lg border font-medium transition-all duration-200;
        background-color: var(--color-gray-100);
        border-color: var(--color-gray-300);
        color: var(--color-gray-700);

        &:hover {
          background-color: var(--color-gray-200);
          transform: translateY(-1px);
        }

        &.is-checked {
          background-color: var(--color-primary);
          border-color: var(--color-primary-dark);
          color: white;
        }
      }
    }
  }

  /* Package Grid */
  .packages-grid {
    @apply grid gap-6 mt-12;
    grid-template-columns: 1fr;

    @media (min-width: 640px) {
      grid-template-columns: repeat(2, 1fr);
    }

    @media (min-width: 1024px) {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Package Card */
  .package_card {
    @apply h-full;

    > div {
      @apply rounded-lg border shadow-sm p-6 h-full flex flex-col transition-all duration-200;
      background-color: var(--color-white);
      border-color: var(--color-gray-200);
      border-top: 4px solid var(--color-primary-dark);

      &:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 30px rgba(17,24,39,0.1);
      }

      /* Title - Card-specific: smaller than base h3 for card layout */
      > h3 {
        @apply text-xl font-semibold mb-3;
        color: var(--color-gray-900);
      }

      /* Meta section (stars, etc) */
      > .package_card__meta {
        @apply flex items-center gap-2 mb-4 text-sm;
        color: var(--color-gray-600);
        i { color: var(--color-gray-400); }
      }

      /* Description */
      > p {
        @apply flex-grow mb-4;
        color: var(--color-gray-700);
        line-height: 1.6;
      }

      /* Links */
      > ul {
        @apply list-none m-0 p-0 pt-4 mt-auto border-t;
        border-color: var(--color-gray-200);

        li {
          @apply mb-2;

          a {
            @apply inline-flex items-center gap-2 no-underline;
            color: var(--color-primary-dark);
            transition: color 0.2s ease;

            &:hover { color: var(--color-link-hover); }
            i { @apply text-sm; }
            
            /* Partner badge styling */
            img.partner-badge {
              @apply h-5;
              vertical-align: middle;
              margin-left: 0.25rem;
            }
          }
        }
      }

      /* Archived badge */
      .package_card__archived {
        @apply inline-flex items-center gap-2;
        color: var(--color-gray-500);
        font-style: italic;
      }
    }
  }
}
