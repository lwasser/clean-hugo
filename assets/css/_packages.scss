@layer components {
  /* Packages Page Layout - Full Width */

  /* Content area - no width constraint so metrics bar can be full width */
  .packages-page__content {
    @apply w-full;

    /* Constrain all direct children except full-width elements like metrics-bar */
    > *:not(.metrics-bar) {
      @apply max-w-7xl mx-auto px-6;
    }

    /* Headings use base typography scale from main.scss */
    /* Only override color if needed, sizes come from base */
    > h2, > h3 {
      color: var(--color-gray-900);
    }

    /* Lists and paragraphs use base typography from main.scss */
  }

  /* Controls Section - contained width */
  .packages-page__controls {
    @apply w-full py-8 mb-8;
    background-color: var(--color-gray-50);
  }

  .packages-page__controls-inner {
    @apply max-w-7xl mx-auto px-6;
  }

  /* Section Container - full width with inner constraint */
  .packages-page__section {
    @apply mb-16;
  }

  .packages-page__section-inner {
    @apply max-w-7xl mx-auto px-6;
  }

  .packages-page__section-title {
    @apply mb-2; /* Uses base h2 scale from main.scss - same as blog page */
    color: var(--color-gray-900);
  }

  .packages-page__section-description {
    @apply text-lg mb-8;
    color: var(--color-gray-600);
  }

  .packages-page__empty {
    @apply max-w-7xl mx-auto px-6 py-12 text-center;

    p {
      @apply text-lg;
      color: var(--color-gray-600);
    }
  }

  /* Package Filters */
  .packages-filters {
    @apply mb-8;
  }

  .packages-filters__search {
    @apply mb-4;
  }

  .packages-filters__input {
    @apply w-full max-w-md px-4 py-2 text-lg border rounded-lg;
    border-color: var(--color-gray-300);

    &:focus {
      @apply outline-none ring-2;
      ring-color: var(--color-primary);
      border-color: var(--color-primary);
    }
  }

  .packages-filters__buttons {
    @apply flex flex-wrap gap-2;
  }

  .packages-filters__button {
    @apply px-4 py-2 rounded-lg border font-medium transition-all duration-200;
    background-color: var(--color-gray-100);
    border-color: var(--color-gray-300);
    color: var(--color-gray-700);

    &:hover {
      background-color: var(--color-gray-200);
      transform: translateY(-1px);
    }

    &.is-checked {
      background-color: var(--color-primary);
      border-color: var(--color-primary-dark);
      color: white;
    }
  }

  /* Package Grid */
  .packages-grid {
    @apply grid gap-6;
    grid-template-columns: 1fr;

    @media (min-width: 640px) {
      grid-template-columns: repeat(2, 1fr);
    }

    @media (min-width: 1024px) {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .packages-grid__title {
    @apply text-2xl font-bold mb-6;
    color: var(--color-gray-900);
  }

  /* Package Card */
  .package-card {
    @apply h-full;
  }

  .package-card__content {
    @apply rounded-lg border shadow-sm p-6 h-full flex flex-col;
    @apply transition-all duration-200;
    background-color: var(--color-white);
    border-color: var(--color-gray-200);
    border-top: 4px solid var(--color-primary-dark);

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 30px rgba(17,24,39,0.1);
    }
  }

  .package-card__title {
    @apply text-xl font-semibold mb-3;
    color: var(--color-gray-900);
  }

  .package-card__meta {
    @apply flex items-center gap-2 mb-4 text-sm;
    color: var(--color-gray-600);

    i {
      color: var(--color-gray-400);
    }
  }

  .package-card__maintainers {
    @apply flex flex-wrap gap-1;
  }

  .package-card__maintainer-link {
    @apply no-underline;
    color: var(--color-gray-600);

    &:hover {
      color: var(--color-primary-dark);
      text-decoration: underline;
    }
  }

  .package-card__description {
    @apply flex-grow mb-4;
    color: var(--color-gray-700);
    line-height: 1.6;

    p {
      @apply m-0;
    }
  }

  .package-card__links {
    @apply list-none m-0 p-0 pt-4 mt-auto border-t;
    border-color: var(--color-gray-200);

    li {
      @apply mb-2;

      a {
        @apply inline-flex items-center gap-2 no-underline;
        color: var(--color-primary-dark);
        transition: color 0.2s ease;

        &:hover {
          color: var(--color-link-hover);
        }

        i {
          @apply text-sm;
        }

        img {
          @apply h-4;
          vertical-align: middle;
        }
      }
    }
  }

  .package-card__archived {
    @apply inline-flex items-center gap-2;
    color: var(--color-gray-500);
    font-style: italic;
  }
}
